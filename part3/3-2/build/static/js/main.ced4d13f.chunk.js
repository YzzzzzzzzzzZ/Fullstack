(this["webpackJsonp2.6-2.10"]=this["webpackJsonp2.6-2.10"]||[]).push([[0],{17:function(n,e,t){n.exports=t(41)},22:function(n,e,t){},41:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(16),u=t.n(c),o=(t(22),t(6)),i=t(5),l=function(n){return a.a.createElement("form",null,a.a.createElement("div",null,"name:"," ",a.a.createElement("input",{onInput:function(e){n.setName(e.target.value)}})),a.a.createElement("div",null,"number:"," ",a.a.createElement("input",{onInput:function(e){n.setNumber(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit",onClick:function(e){return n.onSubmit(e)}},"add")))},f=function(n){var e=n.list.map((function(e,t){return a.a.createElement("p",{key:t},e.name," ",e.number," ",a.a.createElement("button",{onClick:function(){return n.onRemove(e.id)}},"\u5220\u9664"))}));return a.a.createElement("div",null,e)},s=function(n){return a.a.createElement("div",null,"Search:"," ",a.a.createElement("input",{onInput:function(e){n.onSearch(e.target.value)}}))},m=t(2),p=t.n(m),d=t(3),b=t(4),v=t.n(b),h="/api/persons",E=function(){var n=Object(d.a)(p.a.mark((function n(){var e,t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=v.a.get("".concat(h)),n.next=3,e;case 3:return t=n.sent,n.abrupt("return",t.data);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),w=function(){var n=Object(d.a)(p.a.mark((function n(e){var t,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=v.a.post("".concat(h),e),n.next=3,t;case 3:return r=n.sent,n.abrupt("return",r.data);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),j=function(){var n=Object(d.a)(p.a.mark((function n(e){var t,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=v.a.delete("".concat(h,"/").concat(e)),n.next=3,t;case 3:return r=n.sent,n.abrupt("return",r.data);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),O=function(){var n=Object(d.a)(p.a.mark((function n(e){var t,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=v.a.put("".concat(h,"/").concat(e.id),e),n.next=3,t;case 3:return r=n.sent,n.abrupt("return",r.data);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),x=function(){var n=Object(r.useState)([]),e=Object(i.a)(n,2),t=e[0],c=e[1],u=Object(r.useState)(t),m=Object(i.a)(u,2),p=m[0],d=m[1],b=Object(r.useState)(""),v=Object(i.a)(b,2),h=v[0],x=v[1],g=Object(r.useState)(""),k=Object(i.a)(g,2),S=k[0],y=k[1];Object(r.useEffect)((function(){E().then((function(n){c(n),d(n)})).catch((function(n){console.log(n)}))}),[]);return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(s,{onSearch:function(n){return function(n){var e=[];t.forEach((function(t){var r=new RegExp(n,"i");t.name.match(r)&&(e=e.concat(t))})),d(e)}(n)}}),a.a.createElement("h3",null,"add a new"),a.a.createElement(l,{setName:function(n){return x(n)},setNumber:function(n){return y(n)},onSubmit:function(n){return function(n){if(n.preventDefault(),h&&S){var e={name:h,number:S},r=t.find((function(n){return n.name===h}));r?window.confirm(h+" \u5df2\u5b58\u5728\u3002\u7ee7\u7eed\u4e0a\u4f20\u4f1a\u66f4\u6539number\u3002")&&(e=Object(o.a)(Object(o.a)({},r),e),O(e).then((function(n){d(t.map((function(e){return e.id===r.id?n:e}))),c(t.map((function(e){return e.id===r.id?n:e})))})).catch((function(n){console.log(n)}))):w(e).then((function(n){d(t.concat(n)),c(t.concat(n))})).catch((function(n){console.log(n)}))}else alert("\u59d3\u540d\u6216\u53f7\u7801\u4e0d\u80fd\u4e3a\u7a7a\u3002")}(n)}}),a.a.createElement("h3",null,"Numbers"),a.a.createElement(f,{list:p,onRemove:function(n){return function(n){window.confirm("\u786e\u8ba4\u5220\u9664\u5417\uff1f")&&j(n).then((function(e){var r=t.findIndex((function(e){return e.id===n}));c(t.slice(0,r).concat(t.slice(r+1))),d(t.slice(0,r).concat(t.slice(r+1)))})).catch((function(n){console.log(n)}))}(n)}}))};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(x,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.ced4d13f.chunk.js.map