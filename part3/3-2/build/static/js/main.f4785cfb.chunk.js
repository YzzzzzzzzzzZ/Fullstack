(this["webpackJsonp2.6-2.10"]=this["webpackJsonp2.6-2.10"]||[]).push([[0],{17:function(e,n,t){e.exports=t(41)},22:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(16),u=t.n(c),o=(t(22),t(6)),i=t(5),l=function(e){return a.a.createElement("form",null,a.a.createElement("div",null,"name:"," ",a.a.createElement("input",{onInput:function(n){e.setName(n.target.value)}})),a.a.createElement("div",null,"number:"," ",a.a.createElement("input",{onInput:function(n){e.setNumber(n.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit",onClick:function(n){return e.onSubmit(n)}},"add")))},f=function(e){var n=e.list.map((function(n,t){return a.a.createElement("p",{key:t},n.name," ",n.number," ",a.a.createElement("button",{onClick:function(){return e.onRemove(n.id)}},"\u5220\u9664"))}));return a.a.createElement("div",null,n)},s=function(e){return a.a.createElement("div",null,"Search:"," ",a.a.createElement("input",{onInput:function(n){e.onSearch(n.target.value)}}))},m=t(2),p=t.n(m),d=t(3),b=t(4),v=t.n(b),E="/api/persons",h=function(){var e=Object(d.a)(p.a.mark((function e(){var n,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.a.get("".concat(E)),e.next=3,n;case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(p.a.mark((function e(n){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.a.post("".concat(E),n),e.next=3,t;case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(p.a.mark((function e(n){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.a.delete("".concat(E,"/").concat(n)),e.next=3,t;case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(p.a.mark((function e(n){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.a.put("".concat(E,"/").concat(n.id),n),e.next=3,t;case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],u=Object(r.useState)(t),m=Object(i.a)(u,2),p=m[0],d=m[1],b=Object(r.useState)(""),v=Object(i.a)(b,2),E=v[0],x=v[1],k=Object(r.useState)(""),S=Object(i.a)(k,2),y=S[0],g=S[1];Object(r.useEffect)((function(){h().then((function(e){c(e),d(e)}))}),[]);return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(s,{onSearch:function(e){return function(e){var n=[];t.forEach((function(t){var r=new RegExp(e,"i");t.name.match(r)&&(n=n.concat(t))})),d(n)}(e)}}),a.a.createElement("h3",null,"add a new"),a.a.createElement(l,{setName:function(e){return x(e)},setNumber:function(e){return g(e)},onSubmit:function(e){return function(e){if(e.preventDefault(),E&&y){var n={name:E,number:y},r=t.find((function(e){return e.name===E}));r?window.confirm(E+" \u5df2\u5b58\u5728\u3002\u7ee7\u7eed\u4e0a\u4f20\u4f1a\u66f4\u6539number\u3002")&&(n=Object(o.a)(Object(o.a)({},r),n),O(n).then((function(e){d(t.map((function(n){return n.id===r.id?e:n}))),c(t.map((function(n){return n.id===r.id?e:n})))}))):w(n).then((function(e){d(t.concat(e)),c(t.concat(e))}))}else alert("\u59d3\u540d\u6216\u53f7\u7801\u4e0d\u80fd\u4e3a\u7a7a\u3002")}(e)}}),a.a.createElement("h3",null,"Numbers"),a.a.createElement(f,{list:p,onRemove:function(e){return function(e){window.confirm("\u786e\u8ba4\u5220\u9664\u5417\uff1f")&&j(e).then((function(n){var r=t.findIndex((function(n){return n.id===e}));c(t.slice(0,r).concat(t.slice(r+1))),d(t.slice(0,r).concat(t.slice(r+1)))}))}(e)}}))};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(x,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.f4785cfb.chunk.js.map